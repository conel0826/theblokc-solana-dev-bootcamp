{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/home/conel0826/theblokc-solana-dev-bootcamp/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"/home/conel0826/theblokc-solana-dev-bootcamp/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\nvar _possibleConstructorReturn = require(\"/home/conel0826/theblokc-solana-dev-bootcamp/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"/home/conel0826/theblokc-solana-dev-bootcamp/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\nvar _inherits = require(\"/home/conel0826/theblokc-solana-dev-bootcamp/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.map = exports.array = exports.rustEnum = exports.str = exports.vecU8 = exports.tagged = exports.vec = exports.bool = exports.option = exports.publicKey = exports.i256 = exports.u256 = exports.i128 = exports.u128 = exports.i64 = exports.u64 = exports.struct = exports.f64 = exports.f32 = exports.i32 = exports.u32 = exports.i16 = exports.u16 = exports.i8 = exports.u8 = void 0;\nvar buffer_layout_1 = require(\"buffer-layout\");\nvar web3_js_1 = require(\"@solana/web3.js\");\nvar bn_js_1 = __importDefault(require(\"bn.js\"));\nvar buffer_layout_2 = require(\"buffer-layout\");\nObject.defineProperty(exports, \"u8\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.u8;\n  }\n});\nObject.defineProperty(exports, \"i8\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.s8;\n  }\n});\nObject.defineProperty(exports, \"u16\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.u16;\n  }\n});\nObject.defineProperty(exports, \"i16\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.s16;\n  }\n});\nObject.defineProperty(exports, \"u32\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.u32;\n  }\n});\nObject.defineProperty(exports, \"i32\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.s32;\n  }\n});\nObject.defineProperty(exports, \"f32\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.f32;\n  }\n});\nObject.defineProperty(exports, \"f64\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.f64;\n  }\n});\nObject.defineProperty(exports, \"struct\", {\n  enumerable: true,\n  get: function get() {\n    return buffer_layout_2.struct;\n  }\n});\nvar BNLayout = /*#__PURE__*/function (_buffer_layout_1$Layo) {\n  _inherits(BNLayout, _buffer_layout_1$Layo);\n  function BNLayout(span, signed, property) {\n    var _this;\n    _classCallCheck(this, BNLayout);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BNLayout).call(this, span, property));\n    _this.blob = (0, buffer_layout_1.blob)(span);\n    _this.signed = signed;\n    return _this;\n  }\n  _createClass(BNLayout, [{\n    key: \"decode\",\n    value: function decode(b) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var num = new bn_js_1.default(this.blob.decode(b, offset), 10, \"le\");\n      if (this.signed) {\n        return num.fromTwos(this.span * 8).clone();\n      }\n      return num;\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(src, b) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if (this.signed) {\n        src = src.toTwos(this.span * 8);\n      }\n      return this.blob.encode(src.toArrayLike(Buffer, \"le\", this.span), b, offset);\n    }\n  }]);\n  return BNLayout;\n}(buffer_layout_1.Layout);\nfunction u64(property) {\n  return new BNLayout(8, false, property);\n}\nexports.u64 = u64;\nfunction i64(property) {\n  return new BNLayout(8, true, property);\n}\nexports.i64 = i64;\nfunction u128(property) {\n  return new BNLayout(16, false, property);\n}\nexports.u128 = u128;\nfunction i128(property) {\n  return new BNLayout(16, true, property);\n}\nexports.i128 = i128;\nfunction u256(property) {\n  return new BNLayout(32, false, property);\n}\nexports.u256 = u256;\nfunction i256(property) {\n  return new BNLayout(32, true, property);\n}\nexports.i256 = i256;\nvar WrappedLayout = /*#__PURE__*/function (_buffer_layout_1$Layo2) {\n  _inherits(WrappedLayout, _buffer_layout_1$Layo2);\n  function WrappedLayout(layout, decoder, encoder, property) {\n    var _this2;\n    _classCallCheck(this, WrappedLayout);\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(WrappedLayout).call(this, layout.span, property));\n    _this2.layout = layout;\n    _this2.decoder = decoder;\n    _this2.encoder = encoder;\n    return _this2;\n  }\n  _createClass(WrappedLayout, [{\n    key: \"decode\",\n    value: function decode(b, offset) {\n      return this.decoder(this.layout.decode(b, offset));\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(src, b, offset) {\n      return this.layout.encode(this.encoder(src), b, offset);\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan(b, offset) {\n      return this.layout.getSpan(b, offset);\n    }\n  }]);\n  return WrappedLayout;\n}(buffer_layout_1.Layout);\nfunction publicKey(property) {\n  return new WrappedLayout((0, buffer_layout_1.blob)(32), function (b) {\n    return new web3_js_1.PublicKey(b);\n  }, function (key) {\n    return key.toBuffer();\n  }, property);\n}\nexports.publicKey = publicKey;\nvar OptionLayout = /*#__PURE__*/function (_buffer_layout_1$Layo3) {\n  _inherits(OptionLayout, _buffer_layout_1$Layo3);\n  function OptionLayout(layout, property) {\n    var _this3;\n    _classCallCheck(this, OptionLayout);\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(OptionLayout).call(this, -1, property));\n    _this3.layout = layout;\n    _this3.discriminator = (0, buffer_layout_1.u8)();\n    return _this3;\n  }\n  _createClass(OptionLayout, [{\n    key: \"encode\",\n    value: function encode(src, b) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if (src === null || src === undefined) {\n        return this.discriminator.encode(0, b, offset);\n      }\n      this.discriminator.encode(1, b, offset);\n      return this.layout.encode(src, b, offset + 1) + 1;\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(b) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var discriminator = this.discriminator.decode(b, offset);\n      if (discriminator === 0) {\n        return null;\n      } else if (discriminator === 1) {\n        return this.layout.decode(b, offset + 1);\n      }\n      throw new Error(\"Invalid option \" + this.property);\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan(b) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var discriminator = this.discriminator.decode(b, offset);\n      if (discriminator === 0) {\n        return 1;\n      } else if (discriminator === 1) {\n        return this.layout.getSpan(b, offset + 1) + 1;\n      }\n      throw new Error(\"Invalid option \" + this.property);\n    }\n  }]);\n  return OptionLayout;\n}(buffer_layout_1.Layout);\nfunction option(layout, property) {\n  return new OptionLayout(layout, property);\n}\nexports.option = option;\nfunction bool(property) {\n  return new WrappedLayout((0, buffer_layout_1.u8)(), decodeBool, encodeBool, property);\n}\nexports.bool = bool;\nfunction decodeBool(value) {\n  if (value === 0) {\n    return false;\n  } else if (value === 1) {\n    return true;\n  }\n  throw new Error(\"Invalid bool: \" + value);\n}\nfunction encodeBool(value) {\n  return value ? 1 : 0;\n}\nfunction vec(elementLayout, property) {\n  var length = (0, buffer_layout_1.u32)(\"length\");\n  var layout = (0, buffer_layout_1.struct)([length, (0, buffer_layout_1.seq)(elementLayout, (0, buffer_layout_1.offset)(length, -length.span), \"values\")]);\n  return new WrappedLayout(layout, function (_ref) {\n    var values = _ref.values;\n    return values;\n  }, function (values) {\n    return {\n      values: values\n    };\n  }, property);\n}\nexports.vec = vec;\nfunction tagged(tag, layout, property) {\n  var wrappedLayout = (0, buffer_layout_1.struct)([u64(\"tag\"), layout.replicate(\"data\")]);\n  function decodeTag(_ref2) {\n    var receivedTag = _ref2.tag,\n      data = _ref2.data;\n    if (!receivedTag.eq(tag)) {\n      throw new Error(\"Invalid tag, expected: \" + tag.toString(\"hex\") + \", got: \" + receivedTag.toString(\"hex\"));\n    }\n    return data;\n  }\n  return new WrappedLayout(wrappedLayout, decodeTag, function (data) {\n    return {\n      tag: tag,\n      data: data\n    };\n  }, property);\n}\nexports.tagged = tagged;\nfunction vecU8(property) {\n  var length = (0, buffer_layout_1.u32)(\"length\");\n  var layout = (0, buffer_layout_1.struct)([length, (0, buffer_layout_1.blob)((0, buffer_layout_1.offset)(length, -length.span), \"data\")]);\n  return new WrappedLayout(layout, function (_ref3) {\n    var data = _ref3.data;\n    return data;\n  }, function (data) {\n    return {\n      data: data\n    };\n  }, property);\n}\nexports.vecU8 = vecU8;\nfunction str(property) {\n  return new WrappedLayout(vecU8(), function (data) {\n    return data.toString(\"utf-8\");\n  }, function (s) {\n    return Buffer.from(s, \"utf-8\");\n  }, property);\n}\nexports.str = str;\nfunction rustEnum(variants, property, discriminant) {\n  var unionLayout = (0, buffer_layout_1.union)(discriminant !== null && discriminant !== void 0 ? discriminant : (0, buffer_layout_1.u8)(), property);\n  variants.forEach(function (variant, index) {\n    return unionLayout.addVariant(index, variant, variant.property);\n  });\n  return unionLayout;\n}\nexports.rustEnum = rustEnum;\nfunction array(elementLayout, length, property) {\n  var layout = (0, buffer_layout_1.struct)([(0, buffer_layout_1.seq)(elementLayout, length, \"values\")]);\n  return new WrappedLayout(layout, function (_ref4) {\n    var values = _ref4.values;\n    return values;\n  }, function (values) {\n    return {\n      values: values\n    };\n  }, property);\n}\nexports.array = array;\nvar MapEntryLayout = /*#__PURE__*/function (_buffer_layout_1$Layo4) {\n  _inherits(MapEntryLayout, _buffer_layout_1$Layo4);\n  function MapEntryLayout(keyLayout, valueLayout, property) {\n    var _this4;\n    _classCallCheck(this, MapEntryLayout);\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(MapEntryLayout).call(this, keyLayout.span + valueLayout.span, property));\n    _this4.keyLayout = keyLayout;\n    _this4.valueLayout = valueLayout;\n    return _this4;\n  }\n  _createClass(MapEntryLayout, [{\n    key: \"decode\",\n    value: function decode(b, offset) {\n      offset = offset || 0;\n      var key = this.keyLayout.decode(b, offset);\n      var value = this.valueLayout.decode(b, offset + this.keyLayout.getSpan(b, offset));\n      return [key, value];\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(src, b, offset) {\n      offset = offset || 0;\n      var keyBytes = this.keyLayout.encode(src[0], b, offset);\n      var valueBytes = this.valueLayout.encode(src[1], b, offset + keyBytes);\n      return keyBytes + valueBytes;\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan(b, offset) {\n      return this.keyLayout.getSpan(b, offset) + this.valueLayout.getSpan(b, offset);\n    }\n  }]);\n  return MapEntryLayout;\n}(buffer_layout_1.Layout);\nfunction map(keyLayout, valueLayout, property) {\n  var length = (0, buffer_layout_1.u32)(\"length\");\n  var layout = (0, buffer_layout_1.struct)([length, (0, buffer_layout_1.seq)(new MapEntryLayout(keyLayout, valueLayout), (0, buffer_layout_1.offset)(length, -length.span), \"values\")]);\n  return new WrappedLayout(layout, function (_ref5) {\n    var values = _ref5.values;\n    return new Map(values);\n  }, function (values) {\n    return {\n      values: Array.from(values.entries())\n    };\n  }, property);\n}\nexports.map = map;","map":null,"metadata":{},"sourceType":"script"}